(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(20)},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(10),o=n.n(l),c=n(1),u=n.n(c),i=n(2),s=n(11),d=n(3),p=n(4),m=n(6),h=n(5),f=n(7),b=(n(19),n(8)),E=n.n(b),P=function(e){var t=e.person,n=e.selectedPersonId,r=e.onChangeSelectedPersonId,l=E()("Person",{"PeopleTable__person--male":"m"===t.sex,"PeopleTable__person--female":"f"===t.sex,"PeopleTable__person--selected":n===t.id}),o=E()({PeopleTable__ageOver65:t.age>=65,PeopleTable__bornBefore1650:t.born<1650,PeopleTable__diedAfter1800:t.died>1800,PeopleTable__father:t.father}),c=t.children.map(function(e){return e.name});return a.a.createElement("tr",{className:l,onClick:function(){return r(t.id)}},a.a.createElement("td",null,t.id),a.a.createElement("td",{className:o},t.name),a.a.createElement("td",null,t.sex),a.a.createElement("td",null,t.age),a.a.createElement("td",null,t.born),a.a.createElement("td",null,t.died),a.a.createElement("td",null,t.mother),a.a.createElement("td",null,t.father),a.a.createElement("td",null,t.century),a.a.createElement("td",null,c.join(", ")))},C=function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.people,n=e.sortingFunc,r=e.selectedPersonId,l=e.onChangeSelectedPersonId;return a.a.createElement("table",{className:"PeopleTable"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement("button",{onClick:function(){return n("id")}},"Id")),a.a.createElement("th",null,a.a.createElement("button",{onClick:function(){return n("name")}},"Name")),a.a.createElement("th",null,a.a.createElement("button",{onClick:function(){return n("sex")}},"Sex")),a.a.createElement("th",null,a.a.createElement("button",{onClick:function(){return n("age")}},"Age")),a.a.createElement("th",null,a.a.createElement("button",{onClick:function(){return n("born")}},"Born")),a.a.createElement("th",null,a.a.createElement("button",{onClick:function(){return n("died")}},"Died")),a.a.createElement("th",null,a.a.createElement("button",{onClick:function(){return n("mother")}},"Mother")),a.a.createElement("th",null,a.a.createElement("button",{onClick:function(){return n("father")}},"Father")),a.a.createElement("th",null,a.a.createElement("button",{onClick:function(){return n("century")}},"Century")),a.a.createElement("th",null,a.a.createElement("button",{onClick:function(){return n("children")}},"Children")))),a.a.createElement("tbody",null,t.map(function(e){return a.a.createElement(P,{key:e.id,person:e,selectedPersonId:r,onChangeSelectedPersonId:l})})))}}]),t}(a.a.Component),g=n(12),v=function(){var e=Object(i.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json").then(function(e){return e.json()});case 2:return t=e.sent,e.abrupt("return",t.map(function(e,n){return Object(g.a)({id:n+1},e,{age:e.died-e.born,mother:e.mother?e.mother:"-",father:e.father?e.father:"-",century:Math.ceil(e.died/100),children:t.filter(function(t){return t.mother===e.name||t.father===e.name})})}));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),k=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).people=[],n.state={visiblePeople:[],sortedField:"",selectedPersonId:null,inputValue:""},n.getSortedPeople=function(e,t,n){var r=n.toLowerCase();return Object(s.a)(e).filter(function(e){return e.name.toLowerCase().includes(r)||e.mother.toLowerCase().includes(r)||e.father.toLowerCase().includes(r)||e.children.toLowerCase().includes(r)}).sort(function(e,n){switch(typeof e[t]){case"string":return e[t].localeCompare(n[t]);case"number":return e[t]-n[t];default:return 0}})},n.sortingFunc=function(e){n.setState(function(){return{sortedField:e,visiblePeople:n.getSortedPeople(n.people,e,n.state.inputValue)}})},n.handleChangeInput=function(e){var t=e.target.value;n.setState(function(e){var r=e.sortBy;return{inputValue:t,visiblePeople:n.getSortedPeople(n.people,r,t)}})},n.onChangeSelectedPersonId=function(e){n.setState({selectedPersonId:e})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:this.people=e.sent,this.setState({visiblePeople:this.people});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.visiblePeople,n=e.inputValue,r=e.selectedPersonId;return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"People table"),a.a.createElement("input",{type:"text",className:"filteringInput",value:n,onChange:this.handleChangeInput}),a.a.createElement(C,{people:t,sortingFunc:this.sortingFunc,selectedPersonId:r,onChangeSelectedPersonId:this.onChangeSelectedPersonId}))}}]),t}(a.a.Component);o.a.render(a.a.createElement(k,{test:123}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.4d67e1f8.chunk.js.map